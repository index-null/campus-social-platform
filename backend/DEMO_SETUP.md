# 校园社交平台演示数据生成指南

## 概述

为了便于项目演示和测试，我们提供了一个演示用户数据生成脚本，可以快速创建包含多样化用户的测试数据。

## 生成的演示数据

### 用户类型分布

| 用户类型 | 数量 | 说明 |
|---------|------|------|
| 管理员 | 2 | 系统管理员和内容审核员 |
| 活跃用户 | 16 | 来自不同学院的活跃学生 |
| 非活跃用户 | 2 | 潜水用户和休学用户 |
| **总计** | **20** | **多样化的用户群体** |

### 学院分布

脚本会创建来自以下学院的学生用户：

- 🖥️ **计算机科学与软件学院** - 编程爱好者
- 💼 **管理学院** - 商业和营销专业
- 📚 **文学院** - 写作和翻译专业
- 🎨 **艺术设计学院** - 设计师和艺术家
- 💰 **经济学院** - 经济和金融专业
- 🏗️ **建筑与城市规划学院** - 建筑专业
- 🏥 **医学院** - 医学专业
- 🏃 **体育学院** - 运动员
- 🧬 **生命与海洋科学学院** - 生物专业
- ⚗️ **化学与环境工程学院** - 化学专业

### 用户特征

每个用户都包含：

- ✅ **真实的学号格式** (10位数字)
- ✅ **符合专业特点的用户名和昵称**
- ✅ **深圳大学邮箱地址**
- ✅ **丰富的个人简介**
- ✅ **专业相关的兴趣标签**
- ✅ **随机的最后活跃时间**

## 使用方法

### 1. 确保环境准备就绪

```bash
# 确保MongoDB正在运行
mongod

# 确保.env文件配置正确
cat .env
```

### 2. 运行演示数据生成脚本

```bash
# 进入后端目录
cd backend

# 生成演示用户数据
npm run seed:demo
```

### 3. 查看生成结果

脚本会输出详细的执行日志：

```bash
🌱 开始生成演示用户数据...
✅ 数据库连接成功
📊 当前数据库中有 10 个用户
⚠️  警告：数据库中已有用户数据
👥 准备创建 20 个演示用户...
✅ 创建用户: admin (系统管理员)
✅ 创建用户: moderator (内容审核员)
...

📈 生成结果统计:
👥 总用户数: 30
👑 管理员数: 4
🟢 活跃用户数: 28
🔴 非活跃用户数: 2

🎉 演示用户数据生成完成！
```

## 测试账户信息

### 管理员账户

| 学号 | 用户名 | 密码 | 角色 | 说明 |
|------|--------|------|------|------|
| 2024888888 | admin | admin123 | 管理员 | 系统管理员 |
| 2024666666 | moderator | mod123 | 管理员 | 内容审核员 |

### 普通用户账户

| 学号 | 用户名 | 密码 | 专业 | 特色 |
|------|--------|------|------|------|
| 2024110001 | coderliu | pass123 | 计算机 | 编程爱好者 |
| 2024110002 | ai_zhang | pass123 | 人工智能 | AI研究生 |
| 2024110003 | frontend_wang | pass123 | 软件工程 | 前端开发 |
| 2024210001 | business_chen | pass123 | 工商管理 | 创业者 |
| 2024310001 | writer_zhou | pass123 | 汉语言文学 | 作家梦想 |
| 2024410001 | designer_xu | pass123 | 视觉传达 | 设计师 |
| ... | ... | pass123 | ... | ... |

> 💡 **提示**: 除了管理员账户，所有普通用户的密码都是 `pass123`

## 安全注意事项

### ⚠️ 数据库安全

- 脚本默认**不会清空**现有用户数据
- 如需清空现有数据，需要手动取消注释相关代码行
- 建议在**开发环境**使用，生产环境请谨慎操作

### 🔒 密码安全

- 演示账户使用简单密码，仅用于测试
- 生产环境应使用复杂密码
- 密码在数据库中会自动加密存储

## 验证演示数据

### 1. 登录测试

使用以下账户登录前端应用：

```
管理员: admin / admin123
普通用户: coderliu / pass123
```

### 2. 管理后台测试

使用管理员账户访问 `/admin` 路由，验证：

- ✅ 用户统计数据显示正确
- ✅ 用户列表显示所有演示用户
- ✅ 用户编辑、禁用、删除功能正常
- ✅ 搜索和分页功能正常

### 3. 数据库验证

直接查询数据库确认数据正确性：

```bash
# MongoDB Shell
use campus_social_platform

# 查看用户统计
db.users.countDocuments()

# 查看管理员用户
db.users.find({role: "admin"})

# 查看活跃用户数
db.users.find({isActive: true}).count()
```

## 故障排除

### 常见问题

1. **数据库连接失败**
   ```bash
   # 检查MongoDB服务
   brew services start mongodb/brew/mongodb-community
   ```

2. **环境变量缺失**
   ```bash
   # 检查.env文件
   ls -la .env
   cat .env
   ```

3. **用户已存在错误**
   - 脚本会自动跳过已存在的用户
   - 如需重新生成，请先清空相关用户数据

4. **权限问题**
   ```bash
   # 确保有写权限
   chmod +x src/scripts/seedDemoUsers.ts
   ```
